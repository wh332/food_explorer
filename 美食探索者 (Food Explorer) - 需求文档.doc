# 美食探索者 (Food Explorer) - 需求文档

## 项目概述

**项目名称**: 美食探索者 (Food Explorer)  
**项目类型**: 美食信息网站 + AI推荐系统  
**技术栈**: Vue 3 + TypeScript + Supabase  
**开发状态**: ✅ 已完成开发，可部署使用

## 核心功能需求

### 1. 八大菜系展示模块
- **功能描述**: 展示中国八大菜系的详细信息
- **包含菜系**: 川菜、粤菜、鲁菜、苏菜、浙菜、闽菜、湘菜、徽菜
- **功能特性**:
  - 菜系介绍和特色说明
  - 代表菜品展示
  - 菜系照片上传管理
  - 响应式卡片布局

### 2. AI智能助手模块
- **功能描述**: 基于用户偏好的智能菜品推荐
- **技术实现**: 对话式AI推荐引擎
- **功能特性**:
  - 智能对话交互
  - 口味偏好分析
  - 个性化菜品推荐
  - 实时推荐结果展示

### 3. 家常菜教程模块
- **功能描述**: 提供详细的家常菜制作教程
- **内容包含**:
  - 菜品图片和介绍
  - 食材清单和用量
  - 详细制作步骤
  - 烹饪技巧提示
- **搜索功能**: 按菜名、食材、难度、时间搜索

### 4. 照片管理系统
- **功能描述**: 用户照片上传和管理系统
- **存储方案**: Supabase云端存储 + 本地存储备用
- **功能特性**:
  - 个人照片上传（拖拽/点击）
  - 照片预览和删除
  - 头像设置功能
  - 菜系照片关联上传

## 技术架构

### 前端技术栈
```
Vue 3.4+ (Composition API)
TypeScript 5.0+
Vite 4.5+ (构建工具)
Pinia (状态管理)
Vue Router 4.0+ (路由管理)
```

### 后端服务
```
Supabase (BaaS平台)
- PostgreSQL数据库
- 存储桶文件管理
- 实时订阅功能
- 行级安全策略
```

### 开发环境配置
- **Node.js**: 18.0+
- **包管理器**: npm 9.0+
- **开发服务器**: Vite Dev Server
- **热重载**: 支持实时更新

## 数据库设计

### 用户照片表 (user_photos)
```sql
CREATE TABLE user_photos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id TEXT NOT NULL,
  file_name TEXT NOT NULL,
  file_url TEXT NOT NULL,
  file_size INTEGER NOT NULL,
  upload_date TIMESTAMP NOT NULL,
  is_avatar BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### 菜系照片表 (cuisine_photos)
```sql
CREATE TABLE cuisine_photos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  cuisine_id TEXT NOT NULL,
  file_name TEXT NOT NULL,
  file_url TEXT NOT NULL,
  file_size INTEGER NOT NULL,
  upload_date TIMESTAMP NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```

## 部署要求

### 服务器环境
- **操作系统**: Windows/Linux/macOS
- **Node.js**: 18.0+ 版本
- **内存**: 至少 2GB RAM
- **存储**: 至少 1GB 可用空间

### Supabase配置
1. **创建项目**: 在Supabase控制台创建新项目
2. **配置存储桶**:
   - `user-photos` (用户照片存储)
   - `cuisine-photos` (菜系照片存储)
3. **设置RLS策略**: 配置适当的访问权限
4. **获取API密钥**: 配置环境变量

### 部署步骤
```bash
# 1. 克隆项目
git clone <repository-url>
cd food-explorer

# 2. 安装依赖
npm install

# 3. 配置环境变量
cp .env.example .env
# 编辑.env文件配置Supabase密钥

# 4. 构建项目
npm run build

# 5. 预览构建结果
npm run preview

# 6. 部署到服务器
# 将dist目录内容上传到Web服务器
```

## 用户界面设计

### 设计原则
- **现代化**: 采用最新UI设计趋势
- **响应式**: 支持各种设备屏幕尺寸
- **用户体验**: 直观易用的交互设计
- **性能优化**: 快速加载和流畅动画

### 色彩方案
- **主色调**: #4CAF50 (美食主题绿色)
- **辅助色**: #007bff (品牌蓝色)
- **背景色**: #f8f9fa (浅灰色)
- **文字色**: #333333 (深灰色)

## 安全考虑

### 数据安全
- **客户端安全**: 使用anon public密钥
- **服务器安全**: service_role密钥仅服务器端使用
- **文件安全**: 存储桶权限控制
- **传输安全**: HTTPS加密传输

### 隐私保护
- **用户数据**: 本地存储和云端加密
- **照片权限**: 用户控制照片可见性
- **数据最小化**: 仅收集必要信息

## 性能优化

### 前端优化
- **代码分割**: 按路由懒加载
- **图片优化**: 懒加载和WebP格式
- **缓存策略**: 浏览器缓存优化
- **压缩处理**: Gzip压缩静态资源

### 后端优化
- **CDN加速**: Supabase全球CDN
- **数据库索引**: 优化查询性能
- **缓存策略**: Redis缓存热点数据

## 扩展功能规划

### 短期扩展 (1-3个月)
- [ ] 用户注册登录系统
- [ ] 社交分享功能
- [ ] 菜品收藏功能
- [ ] 用户评论系统

### 中期扩展 (3-6个月)
- [ ] 移动端APP开发
- [ ] 视频教程集成
- [ ] 智能购物清单
- [ ] 营养分析功能

### 长期扩展 (6-12个月)
- [ ] 多语言支持
- [ ] 智能菜谱生成
- [ ] AR烹饪指导
- [ ] 社区互动功能

## 维护和支持

### 技术维护
- **定期更新**: 依赖包版本更新
- **安全补丁**: 及时应用安全更新
- **性能监控**: 监控系统性能指标
- **错误处理**: 完善的错误日志系统

### 内容维护
- **菜品更新**: 定期添加新菜品
- **内容审核**: 用户生成内容审核
- **数据备份**: 定期数据库备份
- **SEO优化**: 搜索引擎优化

## 项目交付物

### 代码交付
- ✅ 完整的前端源代码
- ✅ 详细的文档说明
- ✅ 部署配置脚本
- ✅ 测试用例文件

### 文档交付
- ✅ 需求文档 (当前文件)
- ✅ 技术架构文档
- ✅ 用户使用手册
- ✅ API接口文档

## 联系方式

**项目负责人**: [您的姓名]  
**技术支持**: [技术支持邮箱]  
**项目仓库**: [GitHub仓库地址]  
**在线演示**: http://localhost:3001/

---
*文档最后更新: 2025年10月21日*  
*版本: v1.0.0*